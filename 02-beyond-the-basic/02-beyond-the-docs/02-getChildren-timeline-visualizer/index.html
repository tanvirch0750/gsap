<!DOCTYPE html>
<html>
  <head>
    <title>GSAP Timeline Visualizer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      .box {
        width: 50px;
        height: 50px;
        margin: 10px;
        display: inline-block;
      }
      #box1 {
        background: red;
      }
      #box2 {
        background: green;
      }
      #box3 {
        background: blue;
      }
      #info {
        margin-top: 200px;
        padding: 10px;
        background: #f5f5f5;
        border-radius: 8px;
      }
      button {
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <h2>GSAP Timeline Visualizer with getChildren()</h2>
    <button id="playBtn">Play Animation</button>

    <div>
      <div id="box1" class="box"></div>
      <div id="box2" class="box"></div>
      <div id="box3" class="box"></div>
    </div>

    <div id="info"><strong>Timeline Info:</strong><br /></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/GSDevTools.min.js"></script>
    <script src="script.js"></script>

    <script>
      const infoBox = document.getElementById('info');

      const tl = gsap.timeline({
        paused: true,
        onUpdate: updateInfo,
      });

      // Timeline animations
      tl.to('#box1', { x: 150, duration: 1 })
        .to('#box2', { y: 100, duration: 1 })
        .to('#box3', { rotation: 180, duration: 1 });

      function updateInfo() {
        const children = tl.getChildren();
        let output = '<strong>Timeline Info:</strong><br>';
        output += `Total Duration: ${tl.duration().toFixed(2)}s<br>`;
        output += `Progress: ${(tl.progress() * 100).toFixed(1)}%<br><br>`;

        children.forEach((child, i) => {
          output += `Child ${i + 1} â†’ Start: ${child
            .startTime()
            .toFixed(2)}s, Duration: ${child
            .duration()
            .toFixed(2)}s, Progress: ${(child.progress() * 100).toFixed(
            1
          )}%<br>`;
        });

        infoBox.innerHTML = output;
      }

      document.getElementById('playBtn').addEventListener('click', () => {
        tl.restart();
      });
    </script>
  </body>
</html>
